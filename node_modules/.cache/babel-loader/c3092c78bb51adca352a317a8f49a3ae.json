{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\monuc\\\\Desktop\\\\hck\\\\winterHck\\\\react-covid-tracker-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\monuc\\\\Desktop\\\\hck\\\\winterHck\\\\react-covid-tracker-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\monuc\\\\Desktop\\\\hck\\\\winterHck\\\\react-covid-tracker-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"./App.css\";import FlightTakeoffIcon from'@material-ui/icons/FlightTakeoff';import{MenuItem,FormControl,Select,Card,CardContent}from\"@material-ui/core\";import InfoBox from\"./InfoBox\";import LineGraph from\"./LineGraph\";import Table from\"./Table\";import{sortData,prettyPrintStat}from\"./util\";import numeral from\"numeral\";import Map from\"./Map\";import\"leaflet/dist/leaflet.css\";var App=function App(){var _useState=useState(\"worldwide\"),_useState2=_slicedToArray(_useState,2),country=_useState2[0],setInputCountry=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),countryInfo=_useState4[0],setCountryInfo=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),countries=_useState6[0],setCountries=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),mapCountries=_useState8[0],setMapCountries=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),tableData=_useState10[0],setTableData=_useState10[1];var _useState11=useState(\"cases\"),_useState12=_slicedToArray(_useState11,2),casesType=_useState12[0],setCasesType=_useState12[1];var _useState13=useState({lat:34.80746,lng:-40.4796}),_useState14=_slicedToArray(_useState13,2),mapCenter=_useState14[0],setMapCenter=_useState14[1];var dfLocation={lat:34.80746,lng:-40.4796};var _useState15=useState(3),_useState16=_slicedToArray(_useState15,2),mapZoom=_useState16[0],setMapZoom=_useState16[1];useEffect(function(){fetch(\"https://disease.sh/v3/covid-19/all\").then(function(response){return response.json();}).then(function(data){setCountryInfo(data);});},[]);useEffect(function(){var getCountriesData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:fetch(\"https://disease.sh/v3/covid-19/countries\").then(function(response){return response.json();}).then(function(data){var countries=data.map(function(country){return{name:country.country,value:country.countryInfo.iso2};});var sortedData=sortData(data);setCountries(countries);setMapCountries(data);setTableData(sortedData);});case 1:case\"end\":return _context.stop();}}},_callee);}));return function getCountriesData(){return _ref.apply(this,arguments);};}();getCountriesData();},[]);console.log(casesType);var onCountryChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var countryCode,url;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:countryCode=e.target.value;url=// countryCode === \"worldwide\"\n//   ? \"https://disease.sh/v3/covid-19/all\"\n//   : `https://disease.sh/v3/covid-19/countries/${countryCode}`;\ncountryCode!==\"worldwide\"?\"https://disease.sh/v3/covid-19/countries/\".concat(countryCode):\"https://disease.sh/v3/covid-19/all\";_context2.next=4;return fetch(url).then(function(response){return response.json();}).then(function(data){setInputCountry(countryCode);setCountryInfo(data);setMapCenter([data.countryInfo.lat,data.countryInfo.long]);setMapZoom(4);});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function onCountryChange(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(\"div\",{className:\"app__left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"app__header\"},/*#__PURE__*/React.createElement(\"h1\",null,\" \",/*#__PURE__*/React.createElement(FlightTakeoffIcon,{className:\"logo\"}),\" Covi.Go \"),\" \",/*#__PURE__*/React.createElement(FormControl,{className:\"app__dropdown\"},/*#__PURE__*/React.createElement(Select,{variant:\"outlined\",value:country,onChange:onCountryChange},/*#__PURE__*/React.createElement(MenuItem,{value:\"worldwide\"},\" Worldwide \"),\" \",countries.map(function(country){return/*#__PURE__*/React.createElement(MenuItem,{value:country.value},\" \",country.name,\" \");}),\" \"),\"  \"),\" \"),\" \",/*#__PURE__*/React.createElement(\"div\",{className:\"app__stats\"},/*#__PURE__*/React.createElement(InfoBox,{onClick:function onClick(e){return setCasesType(\"cases\");},title:\"Coronavirus Cases\",isRed:true,active:casesType===\"cases\",cases:prettyPrintStat(countryInfo.todayCases),total:numeral(countryInfo.cases).format(\"0.0a\")}),\" \",/*#__PURE__*/React.createElement(InfoBox,{onClick:function onClick(e){return setCasesType(\"recovered\");},title:\"Recovered\",active:casesType===\"recovered\",cases:prettyPrintStat(countryInfo.todayRecovered),total:numeral(countryInfo.recovered).format(\"0.0a\")}),\" \",/*#__PURE__*/React.createElement(InfoBox,{onClick:function onClick(e){return setCasesType(\"deaths\");},title:\"Deaths\",isRed:true,active:casesType===\"deaths\",cases:prettyPrintStat(countryInfo.todayDeaths),total:numeral(countryInfo.deaths).format(\"0.0a\")}),\" \"),\" \",/*#__PURE__*/React.createElement(Map,{countries:mapCountries,casesType:casesType,center:mapCenter||dfLocation,zoom:mapZoom}),\" \"),\" \",/*#__PURE__*/React.createElement(Card,{className:\"app__right\"},/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(\"div\",{className:\"app__information\"},/*#__PURE__*/React.createElement(\"h3\",null,\" Live Cases by Country \"),/*#__PURE__*/React.createElement(Table,{countries:tableData}),\" \",/*#__PURE__*/React.createElement(\"h3\",null,\" Worldwide \",casesType,\" \"),\" \",/*#__PURE__*/React.createElement(LineGraph,{casesType:casesType}),\" \"),\" \"),\" \"),\" \");};export default App;","map":{"version":3,"sources":["C:/Users/monuc/Desktop/hck/winterHck/react-covid-tracker-master/src/App.js"],"names":["React","useState","useEffect","FlightTakeoffIcon","MenuItem","FormControl","Select","Card","CardContent","InfoBox","LineGraph","Table","sortData","prettyPrintStat","numeral","Map","App","country","setInputCountry","countryInfo","setCountryInfo","countries","setCountries","mapCountries","setMapCountries","tableData","setTableData","casesType","setCasesType","lat","lng","mapCenter","setMapCenter","dfLocation","mapZoom","setMapZoom","fetch","then","response","json","data","getCountriesData","map","name","value","iso2","sortedData","console","log","onCountryChange","e","countryCode","target","url","long","todayCases","cases","format","todayRecovered","recovered","todayDeaths","deaths"],"mappings":"gkBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,iBAAP,KAA8B,kCAA9B,CACA,OACIC,QADJ,CAEIC,WAFJ,CAGIC,MAHJ,CAIIC,IAJJ,CAKIC,WALJ,KAMO,mBANP,CAOA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,OAASC,QAAT,CAAmBC,eAAnB,KAA0C,QAA1C,CACA,MAAOC,CAAAA,OAAP,KAAoB,SAApB,CACA,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,CACA,MAAO,0BAAP,CAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,eACqBf,QAAQ,CAAC,WAAD,CAD7B,wCACPgB,OADO,eACEC,eADF,8BAEwBjB,QAAQ,CAAC,EAAD,CAFhC,yCAEPkB,WAFO,eAEMC,cAFN,8BAGoBnB,QAAQ,CAAC,EAAD,CAH5B,yCAGPoB,SAHO,eAGIC,YAHJ,8BAI0BrB,QAAQ,CAAC,EAAD,CAJlC,yCAIPsB,YAJO,eAIOC,eAJP,8BAKoBvB,QAAQ,CAAC,EAAD,CAL5B,0CAKPwB,SALO,gBAKIC,YALJ,gCAMoBzB,QAAQ,CAAC,OAAD,CAN5B,2CAMP0B,SANO,gBAMIC,YANJ,gCAOoB3B,QAAQ,CAAC,CAAE4B,GAAG,CAAE,QAAP,CAAiBC,GAAG,CAAE,CAAC,OAAvB,CAAD,CAP5B,2CAOPC,SAPO,gBAOIC,YAPJ,gBAQd,GAAMC,CAAAA,UAAU,CAAG,CAAEJ,GAAG,CAAE,QAAP,CAAiBC,GAAG,CAAE,CAAC,OAAvB,CAAnB,CARc,gBASgB7B,QAAQ,CAAC,CAAD,CATxB,2CASPiC,OATO,gBASEC,UATF,gBAWdjC,SAAS,CAAC,UAAM,CACZkC,KAAK,CAAC,oCAAD,CAAL,CACKC,IADL,CACU,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADV,EAEKF,IAFL,CAEU,SAACG,IAAD,CAAU,CACZpB,cAAc,CAACoB,IAAD,CAAd,CACH,CAJL,EAKH,CANQ,CAMN,EANM,CAAT,CAQAtC,SAAS,CAAC,UAAM,CACZ,GAAMuC,CAAAA,gBAAgB,0FAAG,mIACrBL,KAAK,CAAC,0CAAD,CAAL,CACKC,IADL,CACU,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADV,EAEKF,IAFL,CAEU,SAACG,IAAD,CAAU,CACZ,GAAMnB,CAAAA,SAAS,CAAGmB,IAAI,CAACE,GAAL,CAAS,SAACzB,OAAD,QAAc,CACrC0B,IAAI,CAAE1B,OAAO,CAACA,OADuB,CAErC2B,KAAK,CAAE3B,OAAO,CAACE,WAAR,CAAoB0B,IAFU,CAAd,EAAT,CAAlB,CAIA,GAAIC,CAAAA,UAAU,CAAGlC,QAAQ,CAAC4B,IAAD,CAAzB,CACAlB,YAAY,CAACD,SAAD,CAAZ,CACAG,eAAe,CAACgB,IAAD,CAAf,CACAd,YAAY,CAACoB,UAAD,CAAZ,CACH,CAXL,EADqB,sDAAH,kBAAhBL,CAAAA,gBAAgB,0CAAtB,CAeAA,gBAAgB,GACnB,CAjBQ,CAiBN,EAjBM,CAAT,CAmBAM,OAAO,CAACC,GAAR,CAAYrB,SAAZ,EAEA,GAAMsB,CAAAA,eAAe,2FAAG,kBAAMC,CAAN,0IACdC,WADc,CACAD,CAAC,CAACE,MAAF,CAASR,KADT,CAGdS,GAHc,CAIhB;AACA;AACA;AAEAF,WAAW,GAAK,WAAhB,oDAA0EA,WAA1E,EAA0F,oCAR1E,wBAUdf,CAAAA,KAAK,CAACiB,GAAD,CAAL,CACDhB,IADC,CACI,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADJ,EAEDF,IAFC,CAEI,SAACG,IAAD,CAAU,CACZtB,eAAe,CAACiC,WAAD,CAAf,CACA/B,cAAc,CAACoB,IAAD,CAAd,CACAR,YAAY,CAAC,CAACQ,IAAI,CAACrB,WAAL,CAAiBU,GAAlB,CAAuBW,IAAI,CAACrB,WAAL,CAAiBmC,IAAxC,CAAD,CAAZ,CACAnB,UAAU,CAAC,CAAD,CAAV,CACH,CAPC,CAVc,yDAAH,kBAAfc,CAAAA,eAAe,6CAArB,CAoBA,mBAAS,2BACD,SAAS,CAAG,KADX,eAEL,2BACI,SAAS,CAAG,WADhB,eAEA,2BACI,SAAS,CAAG,aADhB,eAEA,+CACK,oBAAE,iBAAF,EAAoB,SAAS,CAAG,MAAhC,EADL,aAFA,kBAG+D,oBAC/D,WAD+D,EACnD,SAAS,CAAG,eADuC,eAE/D,oBACA,MADA,EACO,OAAO,CAAG,UADjB,CAEA,KAAK,CAAKhC,OAFV,CAGA,QAAQ,CAAKgC,eAHb,eAIA,oBACA,QADA,EACS,KAAK,CAAG,WADjB,gBAJA,KAMI5B,SAAS,CAACqB,GAAV,CAAc,SAACzB,OAAD,qBAAe,oBACzB,QADyB,EAChB,KAAK,CAAKA,OAAO,CAAC2B,KADF,MACc3B,OAAO,CAAC0B,IADtB,KAAf,EAAd,CANJ,KAF+D,MAH/D,KAFA,kBAmBM,2BACF,SAAS,CAAG,YADV,eAEN,oBACA,OADA,EACQ,OAAO,CACX,iBAACO,CAAD,QAAOtB,CAAAA,YAAY,CAAC,OAAD,CAAnB,EAFJ,CAGA,KAAK,CAAG,mBAHR,CAIA,KAAK,KAJL,CAIM,MAAM,CAAKD,SAAS,GAAK,OAJ/B,CAKA,KAAK,CAAKd,eAAe,CAACM,WAAW,CAACoC,UAAb,CALzB,CAMA,KAAK,CAAKzC,OAAO,CAACK,WAAW,CAACqC,KAAb,CAAP,CAA2BC,MAA3B,CAAkC,MAAlC,CANV,EAFM,kBASH,oBACH,OADG,EACK,OAAO,CACX,iBAACP,CAAD,QAAOtB,CAAAA,YAAY,CAAC,WAAD,CAAnB,EAFD,CAGH,KAAK,CAAG,WAHL,CAIH,MAAM,CAAKD,SAAS,GAAK,WAJtB,CAKH,KAAK,CAAKd,eAAe,CAACM,WAAW,CAACuC,cAAb,CALtB,CAMH,KAAK,CAAK5C,OAAO,CAACK,WAAW,CAACwC,SAAb,CAAP,CAA+BF,MAA/B,CAAsC,MAAtC,CANP,EATG,kBAgBH,oBACH,OADG,EACK,OAAO,CACX,iBAACP,CAAD,QAAOtB,CAAAA,YAAY,CAAC,QAAD,CAAnB,EAFD,CAGH,KAAK,CAAG,QAHL,CAIH,KAAK,KAJF,CAIG,MAAM,CAAKD,SAAS,GAAK,QAJ5B,CAKH,KAAK,CAAKd,eAAe,CAACM,WAAW,CAACyC,WAAb,CALtB,CAMH,KAAK,CAAK9C,OAAO,CAACK,WAAW,CAAC0C,MAAb,CAAP,CAA4BJ,MAA5B,CAAmC,MAAnC,CANP,EAhBG,KAnBN,kBA2CM,oBACN,GADM,EACF,SAAS,CAAKlC,YADZ,CAEN,SAAS,CAAKI,SAFR,CAGN,MAAM,CAAKI,SAAS,EAAIE,UAHlB,CAIN,IAAI,CAAKC,OAJH,EA3CN,KAFK,kBAmDC,oBACN,IADM,EACD,SAAS,CAAG,YADX,eAEN,oBACA,WADA,mBAEA,2BACI,SAAS,CAAG,kBADhB,eAEA,wDAFA,cAKA,oBACA,KADA,EACM,SAAS,CAAKT,SADpB,EALA,kBAOG,4CACcE,SADd,KAPH,kBAQoC,oBACpC,SADoC,EAC1B,SAAS,CAAKA,SADY,EARpC,KAFA,KAFM,KAnDD,KAAT,CAuEH,CAnID,CAqIA,cAAeX,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport FlightTakeoffIcon from '@material-ui/icons/FlightTakeoff';\nimport {\n    MenuItem,\n    FormControl,\n    Select,\n    Card,\n    CardContent,\n} from \"@material-ui/core\";\nimport InfoBox from \"./InfoBox\";\nimport LineGraph from \"./LineGraph\";\nimport Table from \"./Table\";\nimport { sortData, prettyPrintStat } from \"./util\";\nimport numeral from \"numeral\";\nimport Map from \"./Map\";\nimport \"leaflet/dist/leaflet.css\";\n\nconst App = () => {\n    const [country, setInputCountry] = useState(\"worldwide\");\n    const [countryInfo, setCountryInfo] = useState({});\n    const [countries, setCountries] = useState([]);\n    const [mapCountries, setMapCountries] = useState([]);\n    const [tableData, setTableData] = useState([]);\n    const [casesType, setCasesType] = useState(\"cases\");\n    const [mapCenter, setMapCenter] = useState({ lat: 34.80746, lng: -40.4796 });\n    const dfLocation = { lat: 34.80746, lng: -40.4796 }\n    const [mapZoom, setMapZoom] = useState(3);\n\n    useEffect(() => {\n        fetch(\"https://disease.sh/v3/covid-19/all\")\n            .then((response) => response.json())\n            .then((data) => {\n                setCountryInfo(data);\n            });\n    }, []);\n\n    useEffect(() => {\n        const getCountriesData = async() => {\n            fetch(\"https://disease.sh/v3/covid-19/countries\")\n                .then((response) => response.json())\n                .then((data) => {\n                    const countries = data.map((country) => ({\n                        name: country.country,\n                        value: country.countryInfo.iso2,\n                    }));\n                    let sortedData = sortData(data);\n                    setCountries(countries);\n                    setMapCountries(data);\n                    setTableData(sortedData);\n                });\n        };\n\n        getCountriesData();\n    }, []);\n\n    console.log(casesType);\n\n    const onCountryChange = async(e) => {\n        const countryCode = e.target.value;\n\n        const url =\n            // countryCode === \"worldwide\"\n            //   ? \"https://disease.sh/v3/covid-19/all\"\n            //   : `https://disease.sh/v3/covid-19/countries/${countryCode}`;\n\n            countryCode !== \"worldwide\" ? `https://disease.sh/v3/covid-19/countries/${countryCode}` : \"https://disease.sh/v3/covid-19/all\";\n\n        await fetch(url)\n            .then((response) => response.json())\n            .then((data) => {\n                setInputCountry(countryCode);\n                setCountryInfo(data);\n                setMapCenter([data.countryInfo.lat, data.countryInfo.long]);\n                setMapZoom(4);\n            });\n    };\n\n    return ( <\n        div className = \"app\" >\n        <\n        div className = \"app__left\" >\n        <\n        div className = \"app__header\" >\n        <\n        h1 > < FlightTakeoffIcon className = \"logo\" / > Covi.Go < /h1> <\n        FormControl className = \"app__dropdown\" >\n        <\n        Select variant = \"outlined\"\n        value = { country }\n        onChange = { onCountryChange } >\n        <\n        MenuItem value = \"worldwide\" > Worldwide < /MenuItem> {\n            countries.map((country) => ( <\n                MenuItem value = { country.value } > { country.name } < /MenuItem>\n            ))\n        } <\n        /Select>  <\n        /FormControl> <\n        /div> <\n        div className = \"app__stats\" >\n        <\n        InfoBox onClick = {\n            (e) => setCasesType(\"cases\") }\n        title = \"Coronavirus Cases\"\n        isRed active = { casesType === \"cases\" }\n        cases = { prettyPrintStat(countryInfo.todayCases) }\n        total = { numeral(countryInfo.cases).format(\"0.0a\") }\n        /> <\n        InfoBox onClick = {\n            (e) => setCasesType(\"recovered\") }\n        title = \"Recovered\"\n        active = { casesType === \"recovered\" }\n        cases = { prettyPrintStat(countryInfo.todayRecovered) }\n        total = { numeral(countryInfo.recovered).format(\"0.0a\") }\n        /> <\n        InfoBox onClick = {\n            (e) => setCasesType(\"deaths\") }\n        title = \"Deaths\"\n        isRed active = { casesType === \"deaths\" }\n        cases = { prettyPrintStat(countryInfo.todayDeaths) }\n        total = { numeral(countryInfo.deaths).format(\"0.0a\") }\n        /> <\n        /div> <\n        Map countries = { mapCountries }\n        casesType = { casesType }\n        center = { mapCenter || dfLocation }\n        zoom = { mapZoom }\n        /> <\n        /div> <\n        Card className = \"app__right\" >\n        <\n        CardContent >\n        <\n        div className = \"app__information\" >\n        <\n        h3 > Live Cases by Country < /h3>\n\n        <\n        Table countries = { tableData }\n        /> <\n        h3 > Worldwide { casesType } < /h3> <\n        LineGraph casesType = { casesType }\n        /> <\n        /div> <\n        /CardContent> <\n        /Card> <\n        /div>\n    );\n};\n\nexport default App;"]},"metadata":{},"sourceType":"module"}